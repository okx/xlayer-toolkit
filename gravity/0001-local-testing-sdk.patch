From 4119ed28dadf4da80ebaf64e017bcd14baf29f23 Mon Sep 17 00:00:00 2001
From: "xingqiang.yuan" <xingqiang.yuan@okg.com>
Date: Wed, 21 Jan 2026 17:43:55 +0800
Subject: [PATCH] local testing sdk

---
 bin/gravity_node/src/consensus/mock_consensus/mock.rs | 1 +
 1 file changed, 1 insertion(+)

diff --git a/bin/gravity_node/src/consensus/mock_consensus/mock.rs b/bin/gravity_node/src/consensus/mock_consensus/mock.rs
index e254d7a..e365fa7 100644
--- a/bin/gravity_node/src/consensus/mock_consensus/mock.rs
+++ b/bin/gravity_node/src/consensus/mock_consensus/mock.rs
@@ -241,6 +241,7 @@ impl MockConsensus {
                 .as_ref()
                 .unwrap()
                 .iter()
+                .filter(|tx| !tx.is_discarded)  // Only include successfully executed transactions
                 .map(|tx| TxnId {
                     sender: ExternalAccountAddress::new(tx.sender),
                     seq_num: tx.nonce,
-- 
2.50.1 (Apple Git-155)

