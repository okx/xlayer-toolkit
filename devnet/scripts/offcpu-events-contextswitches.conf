# Off-CPU Profiling: Context Switch Analysis
#
# This configuration focuses on context switches to identify which reth
# functions cause threads to go off-CPU most frequently.
#
# NOTE: This will generate high sample counts (50k-150k samples per minute)
# Use for shorter profiling durations (30-60 seconds recommended)

# === Context Switch Events ===
# Captures when threads are switched off-CPU
sched:sched_switch

# === Lock Contention (for correlation) ===
# Include futex to correlate context switches with lock waits
syscalls:sys_enter_futex
syscalls:sys_exit_futex
syscalls:sys_enter_futex_wait
syscalls:sys_exit_futex_wait

# === Disk Sync (for correlation) ===
# Include fsync to correlate context switches with I/O
syscalls:sys_enter_fsync
syscalls:sys_enter_fdatasync
